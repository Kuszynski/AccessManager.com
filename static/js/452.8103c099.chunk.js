"use strict";(self.webpackChunkaccessmanager=self.webpackChunkaccessmanager||[]).push([[452],{8452:(e,t,r)=>{r.d(t,{send:()=>b});class i{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const a={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},s=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{};var o=r(9379);const n=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=await fetch(a.origin+e,{method:"POST",headers:r,body:t}),o=await s.text(),n=new i(s.status,o);if(s.ok)return n;throw n},l=(e,t,r)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||"string"!==typeof r)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},c=e=>e.webdriver||!e.languages||0===e.languages.length,h=()=>new i(451,"Unavailable For Headless Browser"),m=(e,t)=>{if((e=>{var t;return!(null!==(t=e.list)&&void 0!==t&&t.length)||!e.watchVariable})(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const r=(i=t,a=e.watchVariable,i instanceof FormData?i.get(a):i[a]);var i,a;return"string"===typeof r&&e.list.includes(r)},d=()=>new i(403,"Forbidden"),g=async(e,t,r)=>{if(!t.throttle||!r)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const i=t.id||e,a=await(async(e,t,r)=>{const i=Number(await r.get(e)||0);return t-Date.now()+i})(i,t.throttle,r);return a>0||(await r.set(i,Date.now().toString()),!1)},u=()=>new i(429,"Too Many Requests"),b=async(e,t,r,i)=>{const b=s(i),p=b.publicKey||a.publicKey,w=b.blockHeadless||a.blockHeadless,f=b.storageProvider||a.storageProvider,y=(0,o.A)((0,o.A)({},a.blockList),b.blockList),v=(0,o.A)((0,o.A)({},a.limitRate),b.limitRate);if(w&&c(navigator))return Promise.reject(h());if(l(p,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(r),r&&m(y,r))return Promise.reject(d());if(await g(location.pathname,v,f))return Promise.reject(u());const k={lib_version:"4.4.1",user_id:p,service_id:e,template_id:t,template_params:r};return n("/api/v1.0/email/send",JSON.stringify(k),{"Content-type":"application/json"})}}}]);
//# sourceMappingURL=452.8103c099.chunk.js.map